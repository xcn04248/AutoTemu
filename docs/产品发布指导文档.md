# Temu合作伙伴平台文档完整内容

## 1. 产品发布指导文档 (Product Listing Instructions)
最后更新时间：2025-08-22 04:57:19

### 1.1 分类查询 (Category Query)
**相关接口**: bg.local.goods.cats.get 产品标准分类接口

**接口说明**:
- 输入parentCatId=0获取所有可发布的一级分类
- 获取叶子分类：递归调用此接口，输入上次调用结果中选择的catId作为parentCatId获取下一级分类ID，直到获取到叶子分类
- 进入叶子分类时，接口返回空

**重要事项**:
- 确保使用最具体的（叶子）分类ID来发布产品
- catType是判断分类是服装(catType=0)还是非服装(catType=1)的重要变量，会影响图片要求的形状

**示例返回**:
```json
{
  "goodsCatsList": [
    {
      "catId": 32266,
      "catName": "Pants",
      "catType": 0,
      "leaf": true,
      "level": 6,
      "parentId": 32263
    }
  ]
}
```

### 1.2 准备产品信息 (Prepare Product Information)

#### 1.2.1 基本产品信息
a. 产品名称 (goodsName): 仅支持英文、数字和常见符号，最多500字符
b. 产品描述 (goodsDesc): 仅支持英文、数字和常见符号，最多2000字符  
c. 产品亮点 (bulletPoints): 仅支持英文、数字和常见符号，最多200字符，最多5个要点

#### 1.2.2 上传产品轮播图/详情图/视频/证书等材料
**相关接口**: bg.local.goods.gallery.signature.get 获取上传材料签名

**步骤**:
1. 调用bg.local.goods.gallery.signature.get获取上传材料签名
2. 调用多媒体文件上传接口，包含签名并上传文件

**材料要求**:

| 功能模块 | 材料 | 尺寸 | 大小 | 类型 | 备注 |
|---------|------|------|------|------|------|
| 产品描述 | 详情视频 | 时长≤180s，宽高比1:1/4:3/16:9，分辨率≥720P | ≤300MB | wmv,avi,3gp,mov,mp4,flv,rmvb,mkv,m4v等 | 默认显示为详情展示第一个元素 |
| 产品图片 | 产品图片 | 数量≤50，宽高比≥1:3，宽≥480px，高≥480px | ≤3MB | JPEG,JPG,PNG |  |
| SKU轮播图 | 服装轮播图 | 数量3-10，宽高比3:4，宽≥1340px，高≥1785px | ≤3MB | JPEG,JPG,PNG | 取每个SKC第一张图作为SKC预览图 |
| SKU轮播图 | 非服装轮播图 | 数量3-10，宽高比1:1，宽≥800px，高≥800px | ≤3MB | JPEG,JPG,PNG |  |
| 产品视频 | 产品视频 | 数量≤1，时长≤60s，分辨率≥720P | ≤100MB | wmv,avi,3gp,mov,mp4,flv等 |  |

#### 1.2.3 查询产品属性模板和属性合规检查
**相关接口**:
- bg.local.goods.template.get 分类产品属性模板查询接口
- bg.local.goods.property.compliance.check 产品属性合规禁止验证接口

**控制类型**:
| ControlType | 描述 | 属性对象参数 |
|-------------|------|-------------|
| 0 | 输入类型属性 | `{"templatePid": property['templatePid'], "refPid": property['refPid'], "pid": property['pid'], "vid": 0, "value": "输入值"}` |
| 1 | 选择类型属性 | `{"templatePid": property['templatePid'], "refPid": property['refPid'], "pid": property['pid'], "vid": property['values'][0]['vid'], "value": property['values'][0]['value']}` |
| 16 | 数值输入类型属性 | 包含numberInputValue、valueUnitId、valueUnit等字段 |

#### 1.2.4 查询和组装产品规格SKU列表
**相关接口**:
- bg.local.goods.template.get 产品属性分类接口
- bg.local.goods.spec.id.get 生成商家自定义规格

**SKU基础验证**:
- 规格名称不超过2个
- 规格值数量不超过44个
- SKU不超过500个
- SKU规格信息一致性检查

**SKU内容验证**:
- SKU数量必须大于0
- SKU预览图不能为空
- 基础价格必须大于0
- 售价必须大于基础价格
- 同一SKC下SKU售价需要一致

#### 1.2.5 准备尺码表
**相关接口**:
- bg.local.goods.size.element.get 尺寸元素信息查询接口
- bg.local.goods.image.upload 图片材料处理接口

**尺码表图片要求**:
- 数量：1张
- 格式：jpeg、jpg、png
- 宽高比：≥1:3
- 宽度：≥800px
- 高度：≥800px
- 大小：≤3MB

#### 1.2.6 准备产品履约物流信息
设置产品skuId、备货时间、运输模板、进口设置和履约渠道信息：
- 备货时间：0天、1天、2天
- 进口设置：进口、美国制造、美国制造和进口、美国制造或进口
- 履约渠道：第一阶段仅支持自配送(商家配送)
- 运输模板：bg.local.freight.template.query.list 产品运输模板查询接口

#### 1.2.7 安全合规
**相关接口**:
- bg.local.goods.compliance.extra.template.get 治理属性模板查询接口
- bg.local.goods.compliance.rules.get 资质和实拍图查询接口

### 1.3 发布产品 (Publish Product)

#### 1.3.1 直接发布和上架
使用bg.local.goods.add产品添加接口提交发布

**接口参数说明**:
| 元素 | 描述 | 备注 |
|------|------|------|
| goodsBasic | 基本产品信息 |  |
| goodsServicePromise | 商家服务信息 | 包括库存、配送、运费等信息 |
| goodsProperty | 产品属性 | 包括定义产品变体的属性和规格 |
| bulletPoints | 产品要点 | 最多5个卖点，每个不超过200字符 |
| goodsDesc | 产品描述 | 描述不超过2000字符 |
| certificationInfo | 治理属性、资质文件和实拍图 |  |
| guideFileInfo | 指导文件 | 仅可上传PDF格式用户手册 |
| goodsSizeChartList | 尺码表 |  |
| skuList | SKU列表 |  |

#### 1.3.2 查看产品发布状态和编辑
使用bg.local.goods.publish.status.get根据goodsId批量查询最新审核状态

### 1.4 产品原产地信息
- originRegion1: 原产地一级地址，表示国家或地区
- originRegion2: 原产地二级地址，表示省或州级别
- agreeDefaultOriginRegion: 平台默认值设置

### 1.5 特殊分类产品发布要求
根据接口bg.local.goods.cats.get的expandCatType返回的分类类型：
1. DVD/CD分类：添加强制属性制造商信息，如原产地为中国大陆则需要ISBN代码
2. 图书分类：需要发布商信息
3. 制造商和发布商信息需要在卖家中心预先创建

## 2. 常见发布问题 (Common Issues During Product Publishing)
最后更新时间：2025-07-15 04:53:23

### 2.1 importDesignation值错误
**错误信息**: "Invalid Request Parameters"
**要求**: 支持以下四个值：["Imported", "Made in the USA", "Made in the USA and Imported", "Made in the USA or Imported"]
**注意**: 大小写敏感，单词间空格数量必须准确

### 2.2 outSkuSn和outGoodsSn长度问题
**要求**: outSkuSn和outGoodsSn长度应小于100字符(<=100)

### 2.3 图片、视频和链接问题
**要求**: 
- 后端会验证图片和视频的大小、尺寸和比例
- 图片字段至少需要3张不同的图片
- 链接必须可访问

### 2.4 资质链接问题
**要求**: 后端会验证资质相关文件和图片，这些链接使用mallId签名，因此切换店铺可能导致链接无法使用

### 2.5 SKU列表中specIdList与goodsProperties中specId的关系
**要求**:
- 添加产品时可以有多个SKU，每个SKU的specIdList应至少包含一个specId，最多两个specId
- 每个specId也必须在goodsProperties中列出

### 2.6 costTemplateId与mallId关联
**要求**: 每个店铺都有自己的运输模板，添加产品时会验证costTemplateId是否正确

### 2.7 字段类型问题
**要求**: 
- skuList中的weight、length、width、height字段应为String类型，不是Integer
- 体积参数整数部分不超过3位，小数部分不超过1位
- 重量参数整数部分不超过4位，小数部分不超过1位

### 2.8 缺少商标信息
**原因**: 如果产品属性包含品牌，添加产品时必须包含商标信息

### 2.9 属性字段映射错误
**原因**: 添加产品时相关属性字段必须与接口返回的字段匹配

## 3. 产品属性 (Product Attributes)
最后更新时间：2025-01-26 16:04:24

### 3.1 理解属性结构
Temu属性具有父子结构，每个分类都有一组属性模板，可通过bg.local.goods.template.get接口获取。

**属性分类**:
- **销售属性**: isSale=true，用于创建变体
- **普通属性**: 描述产品本身，提供产品特征的详细信息

**销售属性分类**:
- 允许用户自定义属性：inputMaxSpecNum > 0
- 只允许选择预定义属性：inputMaxSpecNum = 0

### 3.2 自定义销售属性
仅当inputMaxSpecNum > 0时允许自定义属性
可从userInputParentSpecList选择parentSpec，使用bg.local.goods.spec.id.get生成规格值

### 3.3 普通属性控制类型
| 控制类型 | 定义 |
|---------|------|
| INPUT(0) | 输入字段 |
| CHOOSE(1) | 可选选项 |
| INPUT_CHOOSE(3) | 输入和可选 |
| SINGLE_YMD_DATE(5) | 单日期选择器-年月日 |
| MULTIPLE_YMD_DATE(6) | 范围日期选择器-年月日 |
| SINGLE_YM_DATE(7) | 单日期选择器-年月 |
| MULTIPLE_YM_DATE(8) | 范围日期选择器-年月 |
| PROPERTY_CHOOSE_AND_INPUT(16) | 属性选择和值输入 |

### 3.4 父子属性
通过showType字段定义父子关系：
- showType = 0：父属性
- showType = 1：子属性

### 3.5 带单位的属性
有单位的属性在valueUnitList可用时应包含valueUnitId和valueUnit

## 4. 价格管理 (Price Management)
最后更新时间：2025-07-30 11:08:16

### 4.1 概述
价格管理涉及竞争分析、动态定价、促销策略等方面，通过合理的定价策略提高产品竞争力

### 4.2 价格管理模式
1. **不完整报价**: 产品发布后平台评估基础价格
2. **定价机会**: 商品销售后平台评估基础价格
3. **价格修改**: 卖家修改产品基础价格

### 4.3 价格集成实施
**相关接口**:
- bg.local.goods.priceorder.query: 查询待处理价格任务
- bg.local.goods.priceorder.accept: 确认平台建议价格
- temu.local.goods.priceorder.reject: 拒绝价格
- bg.local.goods.priceorder.negotiate: 调整价格
- bg.local.goods.priceorder.change.sku.price: 修改价格
- bg.local.goods.sku.list.price.query: 获取当前基础价格

**文档状态说明**:
- 100: 审核中
- 201: 通过
- 202: 拒绝待修改
- 206: 拒绝
- 101: 等待商家确认
- 203: 商家确认
- 205: 商家拒绝
- 204: 商家发起修改

## 5. API接口列表 (API Reference)

### 5.1 授权相关
- bg.open.accesstoken.create: 创建访问令牌
- bg.open.accesstoken.info.get: 获取访问令牌信息

### 5.2 产品相关API
- bg.local.goods.cats.get: 获取产品分类
- bg.local.goods.template.get: 获取产品属性模板
- bg.local.goods.add: 添加产品
- bg.local.goods.spec.id.get: 获取规格ID
- bg.local.goods.size.element.get: 获取尺寸元素
- bg.local.goods.gallery.signature.get: 获取上传签名
- bg.local.goods.compliance.extra.template.get: 获取合规属性模板
- bg.local.goods.compliance.rules.get: 获取合规规则
- bg.local.goods.compliance.property.check: 合规属性检查
- bg.local.goods.brand.trademark.get: 获取品牌商标
- bg.local.goods.stock.edit: 编辑库存
- bg.local.goods.list.query: 查询产品列表
- bg.local.goods.list.retrieve: 检索产品列表
- bg.local.goods.publish.status.get: 获取发布状态
- temu.local.goods.delete: 删除产品
- temu.local.sku.list.retrieve: 检索SKU列表
- temu.local.goods.illegal.vocabulary.check: 违规词汇检查

### 5.3 价格相关API
- bg.local.goods.priceorder.query: 查询价格订单
- bg.local.goods.priceorder.accept: 接受价格订单
- bg.local.goods.priceorder.reject: 拒绝价格订单
- bg.local.goods.priceorder.negotiate: 价格协商
- bg.local.goods.priceorder.change.sku.price: 修改SKU价格
- bg.local.goods.sku.list.price.query: 查询SKU价格列表

## 6. 错误代码和处理方案

### 6.1 常见错误类型
1. **Invalid Request Parameters**: 请求参数无效
2. **System error, please try again later**: 系统错误，请稍后重试
3. **Field type issues**: 字段类型问题
4. **Missing trademark information**: 缺少商标信息
5. **Incorrect attribute field mapping**: 属性字段映射错误

### 6.2 处理方案
1. 检查参数格式和值的准确性
2. 验证字段类型是否正确
3. 确保所有必需的信息都已提供
4. 检查API接口返回字段与提交字段的匹配性
5. 验证店铺权限和资质文件的有效性

## 7. 最佳实践建议

### 7.1 产品发布前准备
1. 仔细研究目标分类的属性要求
2. 准备高质量的产品图片和视频
3. 确保产品信息准确完整
4. 验证所有链接的可访问性

### 7.2 API调用建议
1. 始终使用最新的API接口
2. 实施适当的错误处理机制
3. 定期检查产品发布状态
4. 保持与平台政策的同步

### 7.3 图片和媒体优化
1. 遵循平台图片规格要求
2. 使用高分辨率图片
3. 确保图片加载速度
4. 提供多角度产品展示

### 7.4 合规性最佳实践
1. 定期更新产品信息
2. 确保所有认证文件有效
3. 遵循平台内容政策
4. 及时响应平台审核要求

## 8. 真实测试总结与经验教训（2025-09）

### 8.1 测试背景
- 商品：薄款圆领卫衣（goodsId: 605363743074779）
- 站点：JP（localCodeId=20）
- 目标：通过 API 完成从抓取、转换、提交到"完成/可添加"的闭环，并沉淀可复用的落地清单

### 8.2 关键结论
- 子状态 301 并非一定由“尺码表缺失”引起。此次案例中，最终根因是“类目需确认/不匹配”，在前台确认/切到推荐叶子类目后，状态由 3/301 变为 2/201。
- 类目校验存在两套逻辑：
  - 接口 `bg.local.goods.category.check` 用于规则级预检，可能返回可添加；
  - 卖家中心前台存在内容识别与推荐类目流，需要人工确认或 API 修改类目后等待平台处理。
- 结构化尺码表要点：
  - `bg.local.goods.size.element.get` 只返回“量体要素”（如 Chest/Length），不提供尺码“代码枚举”。
  - 若直接用自由文本尺码（如 M/L/XL）提交，经常报错：150010038（Size element is required）、150010032（size chart parameters are abnormal）。
  - 正确做法：基于站点模板/页面拿到尺码“代码”，或复用前台新建的尺码表模板结构（包含 groups 与 records），再提交 `goodsSizeChartList`。
- 审核期间写入限制：遇到 150010110（Editing Disabled During Review）需等待审核解锁再改 SKU 图片/价格/库存。
- 服务承诺与文案：`goodsServicePromise` 与英文 `goodsDesc` 可用 `bg.local.goods.partial.update` 稳定修正。

### 8.3 关键操作与错误码
- 类目修改流程：`category_recommend` → 选取候选 `catId` → 用 `cats_get` 验证叶子 → `partial.update` 写入 `goodsBasic.catId`。
- 尺码表（结构化）提交建议字段：
  - meta.groups: `[{"id":1,"name":"size"},{"id":20,"name":"JP"}]`
  - meta.elements: `[{"id":10002,"name":"Chest","unit":2},{"id":10003,"name":"Length","unit":2}]`
  - records.values: `[{"id":1,"value":"M"},{"id":20,"value":"M"},{"id":10002,"value":"116"},{"id":10003,"value":"69"}]`
- 常见错误码释义：
  - 150010038 Size element is required → 尺码“代码”列/结构缺失
  - 150010032 The size chart parameters are abnormal → 尺码表结构/字段不符
  - 150010110 Editing Disabled During Review → 审核锁定，暂不可编辑

### 8.4 状态/子状态经验
- status=3（未完成） + subStatus=301：待完善。成因可能为类目需确认、服务承诺缺失、SKU图片/价格/库存缺失、服饰类尺码表缺失等。
- status=2 + subStatus=201：完成/通过。

### 8.5 实操建议
- 类目优先：出现 301 时，先按推荐类目切换并“提交确认”，等待平台处理，再看状态是否清除；如未清除，再排查服务承诺、图片、价格/库存、尺码表。
- 尺码表策略：不确定尺码“代码”时可先用“尺码表图片”解阻，后续再补结构化；单位与站点一致（JP/cm）。
- 图片与价格：服饰轮播图 3:4、≥1340×1785；日本站价格用 JPY 且为整数。

## 9. 添加前 Top 10 快速检查清单（落地版）
1. 类目为叶子且与商品内容匹配（必要时前台确认/提交变更）。
2. goodsServicePromise：shipmentLimitDay（1/2）、fulfillmentType=1、有效 costTemplateId。
3. 标题/描述：英文字符集，长度合规，违规词检查通过。
4. SKU 价格/库存：站点货币与精度正确（JP→JPY 整数），库存≥0。
5. SKU 图片：服饰类 3:4、≥1340×1785，至少 3 张；链接可访问。
6. 结构化尺码表：Chest(10002)/Length(10003) 等必填要素；提供站点尺码“代码”或复用前台模板结构。
7. 合规/资质：按类目模板核查治理属性与资质文件。
8. 编码：outGoodsSn/outSkuSn 唯一且≤100字符。
9. 重量与三边：字符串类型，位数规则满足（重量≤4位整数+1位小数；三边≤3位整数+1位小数）。
10. 审核锁定：遇 150010110 等待解锁后再编辑 SKU。